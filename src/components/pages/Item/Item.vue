<template>
<Toast/>
    <div class="flex space-x-4">
  <div class="flex-1 w-2/3 aspect-w-1 aspect-h-1  bg-red-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8">
            <!-- <img :src="product.images.thumbnail" :alt="product.description" class="w-full h-full object-center object-cover group-hover:opacity-75" /> -->
          </div>
          <div class="flex-1 w-1/4">
          <h3 class="mt-4 mx-auto text-sm text-gray-700">
            {{ product.name }}
          </h3>
          <p class="mt-2 text-sm text-gray-600">
              {{ product.description }}
              </p>
          <p class="mt-1 text-lg font-medium text-gray-900">
            â‚¬{{ product.price.netprice }}
          </p>
  
          <Dropdown v-model="value" :options="this.options? this.options : ['One Size']"  :optionLabel="this.options ? this.options.name : 'One Size'" optionValue="name"  placeholder="Select a Size" />
           <!-- <SelectButton v-model="value" class="mb-2 mt-2" :options="product.options ? product.options : []" optionLabel="name" single /> -->
          <button class="bg-gray-800 rounded text-white pr-2 pl-2 pt-1 pb-1" @click="addToCart">
            Add to cart
          </button>
          </div>
    </div>
    
</template>



<script>
import Toast from 'primevue/toast';
// import SelectButton from 'primevue/selectbutton'
import Dropdown from 'primevue/dropdown'

 import { getProducts } from "../../../../api/products/products-api.js";
export default {
  components : {
      // SelectButton,
      Toast,
      Dropdown
    },
   data () {
       return{
        product: null,
        value : null,
        options : []
       }
   },
 async created(){
  //  try {
  //    const json = mockdata
  
  //    for (const product of json){  
  //      if(product.id === this.$route.params.id)
  //     {
  //       this.product = product;
        
  //       break;
      
  //     }
  //    }
  //  }
  //   catch (error){
  //    console.log(error)
  //  }

  //   this.options = this.product.options;
  
  

    
 },
 methods : {
   addToCart(){
     this.$store.dispatch('cart/addToCart', this.product)
     console.log("this . prpoduct == " + JSON.stringify(this.product))
     this.$toast.add({severity:'success', summary: 'Item added to cart', life: 1500});
     
   }
 }
}
</script>